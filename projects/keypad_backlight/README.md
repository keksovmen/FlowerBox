# MQTT
## Точки взаимодействия
У каждого девайса есть **ID**, которое задается через приложение, либо при прошивке

### То что слушает устройство
- /keyboard/**ID**/port - используется для управления светодиодами, в теле json:\
		{"val":int}\
		, где int это 16 битное число в диапазоне [0; 65535], каждый бит отвечает за канал, те 1 бит = 1 канал,\
		16 бит = 16 канал, можно изменять все сразу или по одному,\
		**ВАЖНО** данные влияют на все каналы сразу, те если вначале запустили первый, а потом\
		захотели второй добавить, то надо отправлять и первый и второй активными, а не по отдельности\



# Плата
Для управления светодиодами используется драйвер постоянного тока **DM135B** [датащит](https://static.chipdip.ru/lib/776/DOC059776012.pdf)\
**Максимальное напряжение** для светодиодов **17 вольт**\
Ток регулируется по средствам резистора, от R-EXT в землю, на плате он один, текущее значение 2200 Ом ~ 8 ма\

Схема пинов, что куда подключается\
![Схема](scheme.png)
К светодиоду подключается напряжение питания (+) и один из выходов с DM135B, те ток течет от питания светодиодов в общую землю через драйвер.

## Распаяная плата
![Вид с лица](face.jpg)\
![Вид сзади](back.jpg)

## Проект в EeasyEDA
[Файл проекта](ProPrj_Backlight_esp32_dm135_2026-01-07.epro)